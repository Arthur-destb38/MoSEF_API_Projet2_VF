\documentclass[aspectratio=169]{beamer}

% ============ THEME ============
\usetheme{Madrid}
\usecolortheme{whale}
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{footline}[frame number]

% ============ PACKAGES ============
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{tikz}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}

% ============ COLORS ============
\definecolor{btccolor}{RGB}{247, 147, 26}
\definecolor{ethcolor}{RGB}{98, 126, 234}
\definecolor{bullish}{RGB}{40, 167, 69}
\definecolor{bearish}{RGB}{220, 53, 69}

% ============ CODE STYLE ============
\lstset{
    basicstyle=\ttfamily\small,
    backgroundcolor=\color{gray!10},
    frame=single,
    breaklines=true
}

% ============ TITLE ============
\title[Crypto Sentiment]{Analyse de Sentiment des Cryptomonnaies}
\subtitle{Reddit, StockTwits \& NLP}
\author{Niama El Kamal \and Arthur Destribats}
\institute{Master MoSEF ‚Äî Universit√© Paris 1 Panth√©on-Sorbonne}
\date{2024-2025}

\begin{document}

% ============ TITLE SLIDE ============
\begin{frame}
    \titlepage
\end{frame}

% ============ PLAN ============
\begin{frame}{Plan}
    \tableofcontents
\end{frame}

% ============================================================
\section{Introduction et Probl√©matique}
% ============================================================

\begin{frame}{Contexte}
    \begin{columns}
        \begin{column}{0.6\textwidth}
            \textbf{Le march√© crypto est tr√®s sensible au sentiment}
            \begin{itemize}
                \item Volatilit√© extr√™me
                \item R√©activit√© aux r√©seaux sociaux
                \item Communaut√©s tr√®s actives (Reddit, Twitter, StockTwits)
            \end{itemize}
            
            \vspace{0.5cm}
            
            \textbf{Question de recherche}
            \begin{quote}
                Le sentiment des r√©seaux sociaux peut-il pr√©dire les mouvements de prix des cryptomonnaies ?
            \end{quote}
        \end{column}
        \begin{column}{0.35\textwidth}
            \centering
            \begin{tikzpicture}
                \node[circle, fill=btccolor, text=white, minimum size=2cm] at (0,0) {\textbf{BTC}};
                \node[circle, fill=ethcolor, text=white, minimum size=1.5cm] at (1.5,-1.5) {\textbf{ETH}};
            \end{tikzpicture}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Objectifs du projet}
    \begin{enumerate}
        \item \textbf{Collecter} des donn√©es textuelles en temps r√©el (Reddit, StockTwits)
        \vspace{0.3cm}
        \item \textbf{Analyser} le sentiment avec des mod√®les NLP pr√©-entra√Æn√©s
        \vspace{0.3cm}
        \item \textbf{Comparer} les performances de FinBERT vs CryptoBERT
        \vspace{0.3cm}
        \item \textbf{√âtudier} la relation sentiment $\leftrightarrow$ prix (√©conom√©trie)
        \vspace{0.3cm}
        \item \textbf{D√©ployer} une application interactive (Streamlit + API)
    \end{enumerate}
\end{frame}

% ============================================================
\section{Web Scraping}
% ============================================================

\begin{frame}{Deux approches de collecte}
    \centering
    \begin{tikzpicture}[
        box/.style={rectangle, draw, rounded corners, minimum width=4cm, minimum height=1.5cm, align=center, thick},
        arrow/.style={->, thick, >=stealth}
    ]
        % Method 1
        \node[box, fill=blue!20] (api) at (-4, 0) {\textbf{M√©thode API}\\Requ√™tes JSON};
        
        % Method 2
        \node[box, fill=orange!20] (html) at (4, 0) {\textbf{M√©thode HTML}\\Parsing + Selenium};
        
        % Sources
        \node[box, fill=gray!10] (reddit) at (-4, -3) {Reddit};
        \node[box, fill=gray!10] (stocktwits) at (4, -3) {StockTwits};
        
        % Arrows
        \draw[arrow] (api) -- (reddit);
        \draw[arrow] (html) -- (stocktwits);
    \end{tikzpicture}
    
    \vspace{0.5cm}
    
    \textbf{Pourquoi deux m√©thodes ?} Chaque plateforme a ses contraintes techniques
\end{frame}

\begin{frame}{M√©thode 1 : API JSON (Reddit)}
    \begin{columns}
        \begin{column}{0.55\textwidth}
            \textbf{Principe}
            \begin{itemize}
                \item Requ√™te HTTP vers un endpoint JSON
                \item R√©ponse structur√©e (dictionnaire Python)
                \item Parsing direct, pas besoin de parser le HTML
            \end{itemize}
            
            \vspace{0.4cm}
            
            \textbf{Impl√©mentation Reddit}
            \begin{itemize}
                \item Endpoint : \texttt{old.reddit.com/r/\{sub\}/new.json}
                \item Pagination : param√®tre \texttt{after}
                \item Biblioth√®que : \texttt{requests}
            \end{itemize}
        \end{column}
        \begin{column}{0.4\textwidth}
            \textbf{Avantages}
            \begin{itemize}
                \item[\textcolor{bullish}{\checkmark}] Tr√®s rapide (~1-2s)
                \item[\textcolor{bullish}{\checkmark}] Donn√©es structur√©es
                \item[\textcolor{bullish}{\checkmark}] Jusqu'√† 1000 posts
                \item[\textcolor{bullish}{\checkmark}] Pas de cl√© API
            \end{itemize}
            
            \vspace{0.3cm}
            
            \textbf{Inconv√©nients}
            \begin{itemize}
                \item[\textcolor{bearish}{$\times$}] API peut changer
                \item[\textcolor{bearish}{$\times$}] Rate limiting
            \end{itemize}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile]{M√©thode 1 : Code API}
\begin{lstlisting}[language=Python, basicstyle=\ttfamily\small]
import requests

def scrape_reddit(subreddit, limit=100):
    url = f"https://old.reddit.com/r/{subreddit}/new.json"
    headers = {"User-Agent": "Mozilla/5.0"}
    params = {"limit": 100}
    
    posts = []
    after = None
    
    while len(posts) < limit:
        if after:
            params["after"] = after
        response = requests.get(url, headers=headers, 
                                params=params)
        data = response.json()
        # Extraction des posts...
    
    return posts
\end{lstlisting}
\end{frame}

\begin{frame}{M√©thode 2 : HTML Parsing + Selenium (StockTwits)}
    \begin{columns}
        \begin{column}{0.55\textwidth}
            \textbf{Principe}
            \begin{itemize}
                \item Page web dynamique (JavaScript)
                \item Selenium simule un navigateur
                \item BeautifulSoup parse le HTML rendu
            \end{itemize}
            
            \vspace{0.4cm}
            
            \textbf{Impl√©mentation StockTwits}
            \begin{itemize}
                \item Chrome headless (sans interface)
                \item Scroll pour charger plus de posts
                \item Extraction des √©l√©ments DOM
            \end{itemize}
        \end{column}
        \begin{column}{0.4\textwidth}
            \textbf{Avantages}
            \begin{itemize}
                \item[\textcolor{bullish}{\checkmark}] Fonctionne sur tout site
                \item[\textcolor{bullish}{\checkmark}] G√®re le JavaScript
                \item[\textcolor{bullish}{\checkmark}] Labels humains !
            \end{itemize}
            
            \vspace{0.3cm}
            
            \textbf{Inconv√©nients}
            \begin{itemize}
                \item[\textcolor{bearish}{$\times$}] Lent (~10-30s)
                \item[\textcolor{bearish}{$\times$}] Fragile (DOM change)
                \item[\textcolor{bearish}{$\times$}] Ressources CPU/RAM
            \end{itemize}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile]{M√©thode 2 : Code Selenium}
\begin{lstlisting}[language=Python, basicstyle=\ttfamily\small]
from selenium import webdriver
from bs4 import BeautifulSoup

def scrape_stocktwits(symbol, limit=100):
    options = webdriver.ChromeOptions()
    options.add_argument("--headless")
    driver = webdriver.Chrome(options=options)
    
    url = f"https://stocktwits.com/symbol/{symbol}"
    driver.get(url)
    
    # Scroll pour charger plus de posts
    for _ in range(limit // 20):
        driver.execute_script(
            "window.scrollTo(0, document.body.scrollHeight)")
        time.sleep(1)
    
    soup = BeautifulSoup(driver.page_source, "html.parser")
    # Extraction des posts...
\end{lstlisting}
\end{frame}

\begin{frame}{Comparaison des m√©thodes}
    \centering
    \begin{table}
        \begin{tabular}{lcc}
            \toprule
            & \textbf{API JSON} & \textbf{HTML + Selenium} \\
            \midrule
            Vitesse & \textcolor{bullish}{Rapide} (1-2s) & \textcolor{bearish}{Lent} (10-30s) \\
            Volume & Jusqu'√† 1000 posts & ~300 posts \\
            Robustesse & Moyenne & Fragile \\
            JavaScript & ‚ùå Non support√© & ‚úÖ Support√© \\
            Donn√©es structur√©es & ‚úÖ Oui & ‚ùå Parsing n√©cessaire \\
            \midrule
            \textbf{Utilis√© pour} & Reddit & StockTwits \\
            \bottomrule
        \end{tabular}
    \end{table}
    
    \vspace{0.5cm}
    
    \textbf{Bonus StockTwits} : Labels humains Bullish/Bearish pour la validation !
\end{frame}

% ============================================================
\section{Mod√®les de Sentiment}
% ============================================================

\begin{frame}{FinBERT}
    \begin{columns}
        \begin{column}{0.5\textwidth}
            \textbf{Architecture}
            \begin{itemize}
                \item Base : BERT (Google)
                \item Fine-tuning : news financi√®res
                \item Source : ProsusAI/finbert
            \end{itemize}
            
            \vspace{0.5cm}
            
            \textbf{Labels de sortie}
            \begin{itemize}
                \item Positive
                \item Negative  
                \item Neutral
            \end{itemize}
        \end{column}
        \begin{column}{0.45\textwidth}
            \textbf{Avantages}
            \begin{itemize}
                \item Mod√®le mature et stable
                \item Bon sur le vocabulaire financier g√©n√©ral
            \end{itemize}
            
            \vspace{0.5cm}
            
            \textbf{Limites}
            \begin{itemize}
                \item Ne conna√Æt pas le jargon crypto
                \item "HODL", "to the moon" ‚Üí incompris
            \end{itemize}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{CryptoBERT}
    \begin{columns}
        \begin{column}{0.5\textwidth}
            \textbf{Architecture}
            \begin{itemize}
                \item Base : BERTweet
                \item Fine-tuning : 3.2M posts crypto
                \item Source : ElKulako/cryptobert
            \end{itemize}
            
            \vspace{0.5cm}
            
            \textbf{Donn√©es d'entra√Ænement}
            \begin{itemize}
                \item StockTwits : 1.8M posts
                \item Telegram : 664K messages
                \item Twitter : 496K tweets
                \item Reddit : 172K posts
            \end{itemize}
        \end{column}
        \begin{column}{0.45\textwidth}
            \textbf{Labels de sortie}
            \begin{itemize}
                \item[\textcolor{bullish}{\textbullet}] \textcolor{bullish}{Bullish}
                \item[\textcolor{bearish}{\textbullet}] \textcolor{bearish}{Bearish}
                \item Neutral
            \end{itemize}
            
            \vspace{0.5cm}
            
            \textbf{Avantages}
            \begin{itemize}
                \item Comprend le jargon crypto
                \item Entra√Æn√© sur des donn√©es similaires
                \item Meilleure accuracy attendue
            \end{itemize}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Comparaison des mod√®les}
    \centering
    \begin{table}
        \begin{tabular}{lcc}
            \toprule
            & \textbf{FinBERT} & \textbf{CryptoBERT} \\
            \midrule
            Base & BERT & BERTweet \\
            Entra√Ænement & News financi√®res & 3.2M posts crypto \\
            Labels & Pos/Neg/Neu & Bullish/Bearish/Neu \\
            Jargon crypto & ‚ùå & ‚úÖ \\
            \midrule
            \textbf{Accuracy (StockTwits)} & ~55-65\% & ~70-80\% \\
            \bottomrule
        \end{tabular}
    \end{table}
    
    \vspace{0.5cm}
    
    \textbf{Hypoth√®se confirm√©e} : CryptoBERT surpasse FinBERT sur les donn√©es crypto
\end{frame}

% ============================================================
\section{Analyse √âconom√©trique}
% ============================================================

\begin{frame}{M√©thodologie √©conom√©trique}
    \textbf{Objectif} : Tester la relation causale sentiment $\leftrightarrow$ prix
    
    \vspace{0.5cm}
    
    \begin{enumerate}
        \item \textbf{Test ADF (Augmented Dickey-Fuller)}
        \begin{itemize}
            \item V√©rifier la stationnarit√© des s√©ries
            \item $H_0$ : la s√©rie a une racine unitaire (non stationnaire)
        \end{itemize}
        
        \vspace{0.3cm}
        
        \item \textbf{Test de causalit√© de Granger}
        \begin{itemize}
            \item Le sentiment pass√© am√©liore-t-il la pr√©diction des rendements ?
            \item Test dans les deux sens : sentiment ‚Üí prix et prix ‚Üí sentiment
        \end{itemize}
        
        \vspace{0.3cm}
        
        \item \textbf{Mod√®le VAR (Vector AutoRegression)}
        \begin{itemize}
            \item Capturer les interactions dynamiques
            \item Fonctions de r√©ponse impulsionnelle
        \end{itemize}
    \end{enumerate}
\end{frame}

\begin{frame}{R√©sultats √©conom√©triques}
    \textbf{Test ADF}
    \begin{itemize}
        \item Sentiment : g√©n√©ralement stationnaire (p < 0.05)
        \item Returns : stationnaires (p < 0.01)
    \end{itemize}
    
    \vspace{0.5cm}
    
    \textbf{Causalit√© de Granger}
    \begin{itemize}
        \item Sentiment ‚Üí Returns : \textcolor{bullish}{significatif} pour certaines cryptos (lag 1-2 jours)
        \item Returns ‚Üí Sentiment : souvent significatif (effet momentum)
    \end{itemize}
    
    \vspace{0.5cm}
    
    \textbf{Interpr√©tation}
    \begin{quote}
        Le sentiment contient de l'information pr√©dictive, mais la relation est bidirectionnelle : les prix pass√©s influencent aussi le sentiment.
    \end{quote}
\end{frame}

% ============================================================
\section{Application et D√©monstration}
% ============================================================

\begin{frame}{Architecture technique}
    \centering
    \begin{tikzpicture}[
        box/.style={rectangle, draw, rounded corners, minimum width=2.5cm, minimum height=1cm, align=center},
        arrow/.style={->, thick}
    ]
        % Sources
        \node[box, fill=orange!20] (reddit) at (0, 2) {Reddit};
        \node[box, fill=blue!20] (stocktwits) at (0, 0) {StockTwits};
        
        % Scrapers
        \node[box, fill=gray!20] (scraper) at (4, 1) {Scrapers\\HTTP/Selenium};
        
        % NLP
        \node[box, fill=green!20] (nlp) at (8, 1) {NLP\\FinBERT/CryptoBERT};
        
        % Output
        \node[box, fill=purple!20] (api) at (12, 2) {API\\FastAPI};
        \node[box, fill=red!20] (streamlit) at (12, 0) {Interface\\Streamlit};
        
        % Arrows
        \draw[arrow] (reddit) -- (scraper);
        \draw[arrow] (stocktwits) -- (scraper);
        \draw[arrow] (scraper) -- (nlp);
        \draw[arrow] (nlp) -- (api);
        \draw[arrow] (nlp) -- (streamlit);
    \end{tikzpicture}
\end{frame}

\begin{frame}{Interface Streamlit}
    \textbf{5 pages interactives :}
    
    \vspace{0.3cm}
    
    \begin{enumerate}
        \item \textbf{Analyse} ‚Äî Sentiment d'une crypto (choix source + mod√®le)
        \vspace{0.2cm}
        \item \textbf{Comparaison} ‚Äî FinBERT vs CryptoBERT sur les m√™mes posts
        \vspace{0.2cm}
        \item \textbf{Multi-crypto} ‚Äî Vue d'ensemble de plusieurs cryptos
        \vspace{0.2cm}
        \item \textbf{√âconom√©trie} ‚Äî Tests ADF, Granger, VAR
        \vspace{0.2cm}
        \item \textbf{M√©thodologie} ‚Äî Documentation technique
    \end{enumerate}
    
    \vspace{0.5cm}
    
    \centering
    \texttt{poetry run streamlit run streamlit\_app.py}
\end{frame}

\begin{frame}{API FastAPI}
    \textbf{Endpoints disponibles :}
    
    \vspace{0.3cm}
    
    \begin{table}
        \small
        \begin{tabular}{lll}
            \toprule
            Endpoint & M√©thode & Description \\
            \midrule
            \texttt{/scrape} & POST & Collecter des posts \\
            \texttt{/sentiment} & POST & Analyser le sentiment \\
            \texttt{/analyze} & POST & Pipeline complet \\
            \texttt{/compare/models} & POST & Comparer FinBERT vs CryptoBERT \\
            \texttt{/prices/\{crypto\}} & GET & Prix actuel (CoinGecko) \\
            \bottomrule
        \end{tabular}
    \end{table}
    
    \vspace{0.5cm}
    
    \centering
    Documentation Swagger : \texttt{http://127.0.0.1:8000/docs}
\end{frame}

% ============================================================
\section{Conclusion}
% ============================================================

\begin{frame}{R√©sultats principaux}
    \begin{enumerate}
        \item \textbf{CryptoBERT > FinBERT} sur les donn√©es crypto (+10-15\% accuracy)
        
        \vspace{0.3cm}
        
        \item \textbf{Les labels StockTwits} sont pr√©cieux pour la validation
        
        \vspace{0.3cm}
        
        \item \textbf{Relation sentiment-prix bidirectionnelle} : le sentiment pr√©dit les rendements ET les rendements influencent le sentiment
        
        \vspace{0.3cm}
        
        \item \textbf{Pipeline fonctionnel} : de la collecte √† l'analyse en quelques secondes
    \end{enumerate}
\end{frame}

\begin{frame}{Limites et perspectives}
    \textbf{Limites}
    \begin{itemize}
        \item Donn√©es en temps r√©el uniquement (pas d'historique long)
        \item Biais de s√©lection (utilisateurs actifs ‚â† march√©)
        \item Rate limiting des plateformes
    \end{itemize}
    
    \vspace{0.5cm}
    
    \textbf{Perspectives}
    \begin{itemize}
        \item Collecte historique avec stockage en base de donn√©es
        \item Ajout de Twitter/X via l'API
        \item Backtesting d'une strat√©gie de trading bas√©e sur le sentiment
        \item Fine-tuning de CryptoBERT sur nos propres donn√©es
    \end{itemize}
\end{frame}

% ============================================================
\section{D√©monstration}
% ============================================================

\begin{frame}{D√©monstration en direct}
    \centering
    \vspace{0.5cm}
    
    \begin{tikzpicture}[
        box/.style={rectangle, draw, rounded corners, minimum width=3.5cm, minimum height=1.2cm, align=center, thick, fill=blue!10}
    ]
        \node[box] (step1) at (0, 3) {\textbf{1. Lancement}\\Streamlit};
        \node[box] (step2) at (0, 1) {\textbf{2. Scraping}\\Reddit / StockTwits};
        \node[box] (step3) at (0, -1) {\textbf{3. Analyse NLP}\\FinBERT / CryptoBERT};
        \node[box] (step4) at (0, -3) {\textbf{4. R√©sultats}\\Visualisations};
        
        \draw[->, thick] (step1) -- (step2);
        \draw[->, thick] (step2) -- (step3);
        \draw[->, thick] (step3) -- (step4);
    \end{tikzpicture}
\end{frame}

\begin{frame}{D√©monstration : Ce qu'on va voir}
    \textbf{1. Page Analyse}
    \begin{itemize}
        \item S√©lection crypto (Bitcoin), source (Reddit), mod√®le (CryptoBERT)
        \item Scraping en temps r√©el (~50 posts)
        \item Distribution du sentiment + score moyen
    \end{itemize}
    
    \vspace{0.4cm}
    
    \textbf{2. Page Comparaison}
    \begin{itemize}
        \item M√™mes posts analys√©s par FinBERT ET CryptoBERT
        \item Calcul de l'accuracy avec les labels StockTwits
        \item Qui gagne ?
    \end{itemize}
    
    \vspace{0.4cm}
    
    \textbf{3. Page √âconom√©trie}
    \begin{itemize}
        \item Tests ADF sur sentiment et returns
        \item Causalit√© de Granger : le sentiment pr√©dit-il les prix ?
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{D√©monstration : Lancement}
    \centering
    
    \textbf{Terminal 1 ‚Äî API FastAPI}
    \begin{lstlisting}[language=bash]
poetry run uvicorn app.main:app --reload
    \end{lstlisting}
    
    \vspace{0.3cm}
    
    $\rightarrow$ \texttt{http://127.0.0.1:8000/docs}
    
    \vspace{0.8cm}
    
    \textbf{Terminal 2 ‚Äî Interface Streamlit}
    \begin{lstlisting}[language=bash]
poetry run streamlit run streamlit_app.py
    \end{lstlisting}
    
    \vspace{0.3cm}
    
    $\rightarrow$ \texttt{http://localhost:8501}
    
    \vspace{0.8cm}
    
    \Large \textbf{Let's go !} üöÄ
\end{frame}

\begin{frame}{}
    \centering
    \Huge \textbf{Merci !}
    
    \vspace{1cm}
    
    \large Questions ?
    
    \vspace{1cm}
    
    \normalsize
    \texttt{https://github.com/Arthur-destb38/Projet\_API}
\end{frame}

\end{document}

